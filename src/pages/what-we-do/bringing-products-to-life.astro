---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import OtherWork from "../../components/OtherWork.astro";

// Get the model ID from URL params, default to FA711ST
const urlParams = Astro.url.searchParams;
const modelId = urlParams.get("id") || "FA711ST";
---

<BaseLayout
    title="Latham – Bringing Products to Life | 42 Interactive"
    bodyClass="latham-page"
    additionalStyles={[
        "/css/latham.css",
        "/css/latham-ar.css",
        "https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css",
    ]}
>
    <Header activePage="home" />

    <main class="main-content">
        <!-- ========================================
             HERO
             ======================================== -->
        <section class="latham-hero section-hero fade-in" data-theme="dark">
            <div class="hero-bg-mask">
                <img
                    src="/images/work/latham/image-latham-hero.png"
                    alt=""
                    class="hero-bg-image"
                />
            </div>
            <div class="hero-info">
                <div class="hero-text-box">
                    <h1 class="hero-title">Bringing Products to Life</h1>
                </div>
                <div class="hero-credits-box">
                    <div class="credit-info">
                        <p class="credit-label">Client</p>
                        <p class="credit-value">Latham Australia</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================
             INTRO – WHAT WE'VE DONE
             ======================================== -->
        <section class="section-intro fade-in" data-theme="dark">
            <p class="intro-label">WHAT WE'VE DONE</p>
            <p class="intro-text">
                We <span class="bold">designed</span> and <span class="bold"
                    >developed</span
                > an <span class="bold">AR product visualisation platform</span> for
                Latham Australia.<br />
                The platform <span class="bold">integrates AR</span> into the website
                to <span class="bold">showcase products</span> in real contexts.<br
                />
                It <span class="bold">enables</span> immersive product exploration
                and <span class="bold">drives deeper customer engagement</span>.
            </p>
        </section>

        <!-- ========================================
             AUGMENTED REALITY SHOWCASE
             ======================================== -->
        <section class="latham-showcase" data-theme="dark">
            <div class="showcase-bg">
                <img
                    src="/images/work/latham/image-latham-example.png"
                    alt=""
                    class="showcase-bg-image"
                />
                <div class="showcase-overlay"></div>
            </div>
            <div class="showcase-content">
                <h2 class="showcase-title">
                    Augmented Reality product showcase.
                </h2>
                <p class="showcase-text">
                    <span class="bold">Helping</span> architects, interior designers
                    and builders
                    <span class="bold">visualise</span> Latham's <span
                        class="bold">products</span
                    > in the
                    <span class="bold">real world</span>.
                </p>
            </div>
        </section>

        <!-- ========================================
             TECHNOLOGY PARTNER
             ======================================== -->
        <section class="latham-partner" data-theme="dark">
            <div class="section-inner">
                <div class="partner-header">
                    <h2 class="partner-title">Technology Partner</h2>
                    <p class="partner-intro">
                        Faced with the hurdles of integrating an AR solution
                        into Latham Australia's website CMS, 42 Interactive team
                        devised the following solutions:
                    </p>
                </div>

                <div class="partner-grid">
                    <div class="partner-item">
                        <h3 class="partner-item-title">
                            Partner Collaboration
                        </h3>
                        <p>
                            42 Interaction offer guidance on compatibility,
                            troubleshooting, and optimisation for different
                            devices and platforms.
                        </p>
                    </div>

                    <div class="partner-item">
                        <h3 class="partner-item-title">User-Centric Design</h3>
                        <p>
                            Prioritise user experience during integration and
                            conduct user testing to identify pain points and
                            refine the AR implementation accordingly.
                        </p>
                    </div>

                    <div class="partner-item partner-item-image">
                        <img
                            src="/images/work/latham/image-latham-03.png"
                            alt="Latham AR showcase"
                        />
                    </div>

                    <div class="partner-item partner-item-image">
                        <img
                            src="/images/work/latham/image-latham-01.png"
                            alt="Latham product visualization"
                        />
                    </div>

                    <div class="partner-item">
                        <h3 class="partner-item-title">Regular Updates</h3>
                        <p>
                            Keep up with updates and improvements to stay
                            current and offer the best possible user experience.
                        </p>
                    </div>

                    <div class="partner-item">
                        <h3 class="partner-item-title">
                            Performance Optimisation
                        </h3>
                        <p>
                            42 Interactive ensure the AR features do not slow
                            down website performance. We optimise loading times
                            and interactions to maintain a seamless experience,
                            even for users with slower connections.
                        </p>
                    </div>

                    <div class="partner-item">
                        <h3 class="partner-item-title">
                            Analytics and Monitoring
                        </h3>
                        <p>
                            42 Interactive implement tracking and analytics
                            tools to monitor the usage of AR features. This data
                            can provide insights into user behaviour and help
                            identify areas for improvement.
                        </p>
                    </div>

                    <div class="partner-item partner-item-image">
                        <img
                            src="/images/work/latham/image-latham-02.png"
                            alt="Latham analytics dashboard"
                        />
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================
             AR COMPONENT
             ======================================== -->
        <section class="latham-ar-embed" data-theme="dark">
            <div class="section-inner">
                <div class="latham-ar-component" id="latham-ar-component">
                    <model-viewer
                        id="step"
                        ar
                        ar-modes="scene-viewer quick-look"
                        camera-controls
                        poster="/latham-ar/media/icon/poster.webp"
                        exposure="0.6"
                        shadow-intensity="1"
                    >
                        <div class="progress-bar" slot="progress-bar">
                            <div class="lds-ring">
                                <div></div>
                                <div></div>
                                <div></div>
                                <div></div>
                            </div>
                        </div>
                        <input type="hidden" id="generatedmodelurl" />

                        <div id="ar-prompt">
                            <img
                                src="/latham-ar/media/icon/ar_hand_prompt.png"
                                alt="AR prompt"
                            />
                        </div>
                        <div class="controls">
                            <div class="row">
                                <div class="col-md-3 col-lg-3 col-xl-2">
                                    <div class="info-group">
                                        <div class="infoBox">
                                            <img
                                                src="/latham-ar/media/logo-latham.svg"
                                                width="62"
                                                alt="Latham"
                                            />
                                            <h1 id="nameTitle"></h1>
                                        </div>
                                        <div class="option-bar">
                                            <div
                                                class="switch-container"
                                                id="dark_id"
                                            >
                                                <label class="switch">
                                                    <input
                                                        type="checkbox"
                                                        id="checkboxswitchdark"
                                                        onchange="switchDark(this);"
                                                    />
                                                    <span class="slider round"
                                                    ></span>
                                                </label>
                                                <label
                                                    class="label"
                                                    for="checkboxswitchdark"
                                                    >Dark</label
                                                >
                                            </div>
                                            <select id="variant"></select>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="col-md-9 col-lg-9 col-xl-10 column-btn-group"
                                >
                                    <div class="btnGroup"></div>
                                </div>
                            </div>
                        </div>
                        <div class="floating-button-wrapper">
                            <a id="show-tooltip" class="floating-button">
                                <svg
                                    width="22"
                                    height="25"
                                    viewBox="0 0 22 25"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <style type="text/css">
                                        .icon-sound-on-svg {
                                            fill: currentColor;
                                        }
                                    </style>
                                    <path
                                        class="icon-sound-on-svg"
                                        d="M10.5317 0.00031673C10.4081 0.00400691 10.2869 0.0351409 10.1769 0.0914626L0.454645 5.04263C0.317832 5.11244 0.20297 5.21869 0.122741 5.34966C0.0425111 5.48064 3.46154e-05 5.63123 7.46135e-07 5.78482V17.3343C-0.000185717 17.4737 0.0345792 17.6109 0.101115 17.7333C0.167651 17.8558 0.263832 17.9596 0.38086 18.0353L10.1031 24.3113C10.2379 24.3985 10.395 24.4448 10.5556 24.4448C10.7161 24.4448 10.8732 24.3985 11.008 24.3113L20.7303 18.0353C20.8473 17.9596 20.9435 17.8558 21.01 17.7333C21.0765 17.6109 21.1113 17.4737 21.1111 17.3343V5.78482C21.1111 5.63123 21.0686 5.48064 20.9884 5.34966C20.9081 5.21869 20.7933 5.11244 20.6565 5.04263L10.9342 0.0914626C10.8098 0.0278075 10.6714 -0.00353568 10.5317 0.00031673V0.00031673ZM10.5556 1.76898L18.5645 5.84776L15.7661 7.54046L10.9332 5.07953C10.809 5.01642 10.6709 4.98546 10.5317 4.98947C10.4082 4.99282 10.287 5.02358 10.1769 5.07953L5.34505 7.54046L2.54666 5.84776L10.5556 1.76898ZM10.5556 6.75704L14.0875 8.55609L10.5556 10.6926L7.02365 8.55609L10.5556 6.75704ZM1.66667 7.26377L4.44444 8.94454V14.9146C4.44444 15.0538 4.47929 15.1907 4.54582 15.313C4.61235 15.4352 4.70843 15.5389 4.8253 15.6145L9.72222 18.7753V22.0815L1.66667 16.8807V7.26377ZM19.4444 7.26377V16.8807L11.3889 22.0815V18.7753L16.2858 15.6145C16.4027 15.5389 16.4988 15.4352 16.5653 15.313C16.6318 15.1907 16.6667 15.0538 16.6667 14.9146V8.94454L19.4444 7.26377ZM6.11111 9.95257L9.72222 12.1368V16.7918L6.11111 14.46V9.95257ZM15 9.95257V14.46L11.3889 16.7918V12.1368L15 9.95257Z"
                                        fill="black"></path>
                                </svg>
                                View in AR
                            </a>
                            <div class="custom-tooltip" id="custom-tooltip">
                                <p>
                                    Scan this QR Code with your mobile phone to
                                    view this card in Augmented Reality
                                </p>
                                <div id="qrcode"></div>
                                <a class="close-tooltip" id="close-tooltip">
                                    <svg
                                        width="20"
                                        height="20"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <g fill="#000" fill-rule="nonzero">
                                            <path
                                                d="M19.9 18.485L18.484 19.9.101 1.515 1.515.1z"
                                            ></path>
                                            <path
                                                d="M1.515 19.9L.1 18.484 18.485.101 19.9 1.515z"
                                            ></path>
                                        </g>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </model-viewer>
                </div>
            </div>
        </section>

        <script define:vars={{ modelId }} is:inline>
            // Set model ID from Astro
            if (!window.location.search.includes("id=")) {
                const url = new URL(window.location.href);
                url.searchParams.set("id", modelId);
                window.history.replaceState({}, "", url);
            }
        </script>
        <script
            is:inline
            src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js"
            defer></script>
        <script
            is:inline
            src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"
        ></script>
        <script type="module" is:inline src="/latham-ar/model-viewer.js"
        ></script>
        <script is:inline src="/latham-ar/mv.js"></script>
        <script is:inline src="/js/latham-ar.js"></script>
    </main>

    <OtherWork currentSlug="bringing-products-to-life" />

    <Footer />
</BaseLayout>
